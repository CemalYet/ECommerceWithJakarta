<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: cemalsmac
  Date: 20/04/2021
  Time: 00:55
-->
<!DOCTYPE html>

<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
>

<h:head>
    <title>Title</title>
    <h:outputStylesheet name="css/primeflex.min.css"/>
    <style>
        .ui-dataview-header{
            display:none;
        }
    </style>
</h:head>
<h:body>
    <ui:include  src="/navBar.xhtml" />
    <div>
        <h:form id="form">
            <p:dataView id="productList" var="product" value="#{productController.products}" rows="12" paginator="true"
                        paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                        layout="grid" gridRowStyleClass="p-lg-6 p-xl-4"  gridIcon="pi pi-th-large"
            >
                <p:dataViewGridItem>
                    <p:card>
                        <div>
                            <i class="pi pi-tag product-category-icon"/>
                            <span>${product.category}</span>
                            <p:staticMessage severity="info" summary="In Stock"
                                             style="width: 30%; float: right; margin-top: 0"/>
                            <p:spacer/>
                            <p:spacer/>
                            <p:spacer/>
                        </div>
                        <div class="p-m-5" style="text-align: center;font-size: large">
                            <img src="#{product.productPhotos.get(0).photo}" alt=""/>
                            <div><b>${product.name}</b></div>
                            <div><em>${product.description}</em></div>
                        </div>
                        <p:spacer/>
                        <p:rating style="text-align: center" value="#{product.star}" readonly="true"/>
                        <p:spacer/>
                        <div>
                            <h:outputText value="Â£ #{product.price}" style="font-size: x-large;font-weight: bold">
                            </h:outputText>
                            <p:linkButton value="View" style="float: right" outcome="productDetail" icon="pi pi-eye">
                                <f:param name="productId" value="#{product.idProduct}"/>
                            </p:linkButton>
                        </div>
                    </p:card>
                </p:dataViewGridItem>
            </p:dataView>
        </h:form>
    </div>
    <div style="text-align: center">
        <h2>This page is viewed ${getHitsController.visitNumber} times</h2>
    </div>
</h:body>
</html>